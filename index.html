<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title><i>RobloxToPoly - v0.1.0</i></title>
</head>
<body>
  <h1>Luau</h1>
  <textarea id="code" rows="10" cols="50">
    print("Luau code here...")
  </textarea>
  <br>
  <button onclick="convert()">Convert</button>
  <pre id="output"></pre>
  <script src="https://unpkg.com/fengari-web/dist/fengari-web.js"></script>
  <script>
    const { lua, lauxlib, lualib, to_luastring } = fengari;
    function convert() {
      const code=document.getElementById("code").value;
      const output=document.getElementById("output");
      output.textContent="";
      const L=lauxlib.luaL_newstate();
      lualib.luaL_openlibs(L);
      lua.lua_pushjsfunction(L,function(L) {
        const msg = lua.lua_tojsstring(L, 1);
        output.textContent+=msg "\n";
        return 0;
      });
      lua.lua_setglobal(L,to_luastring("print"));
      lauxlib.luaL_dostring(L,to_luastring(code));
    }
  </script>
</body>
</html>
